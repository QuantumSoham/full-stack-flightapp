spring:
  cloud:
    gateway:

      routes:

        # ======================
        # ‚úàÔ∏è Flight Service
        # ======================

        - id: flight-airline-add
          uri: lb://flight-service
          predicates:
            - Path=/api/v1.0/flight/airline/add
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: flight-airline-get
          uri: lb://flight-service
          predicates:
            - Path=/api/v1.0/flight/airline/{id}
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: flight-airline-all
          uri: lb://flight-service
          predicates:
            - Path=/api/v1.0/flight/airline/all
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: flight-inventory-add
          uri: lb://flight-service
          predicates:
            - Path=/api/v1.0/flight/airline/inventory/add
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: flight-search
          uri: lb://flight-service
          predicates:
            - Path=/api/v1.0/flight/search
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: flight-details
          uri: lb://flight-service
          predicates:
            - Path=/api/v1.0/flight/{flightId}
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: flight-seat-operations
          uri: lb://flight-service
          predicates:
            - Path=/api/v1.0/flight/{flightId}/**
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials


        # ======================
        # üéüÔ∏è Booking Service
        # ======================

        - id: booking-create
          uri: lb://booking-service
          predicates:
            - Path=/api/v1.0/flight/booking/{flightId}
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: booking-ticket-get
          uri: lb://booking-service
          predicates:
            - Path=/api/v1.0/flight/ticket/{pnr}
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: booking-history
          uri: lb://booking-service
          predicates:
            - Path=/api/v1.0/flight/booking/history/{emailId}
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

        - id: booking-cancel
          uri: lb://booking-service
          predicates:
            - Path=/api/v1.0/flight/booking/cancel/{pnr}
          filters:
            - StripPrefix=0
            - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials

jwt:
  secret: "this_is_a_very_long_and_secure_jwt_secret_key_123456"
  expiration-ms: 86400000

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/
    register-with-eureka: true
    fetch-registry: true

logging:
  level:
    root: INFO
    org.springframework.cloud.gateway: DEBUG
